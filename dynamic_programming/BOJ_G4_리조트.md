https://www.acmicpc.net/problem/13302

# Pass 1 - JavaScript
~~~javascript
let input = require("fs").readFileSync("input.txt").toString().split("\n");
// let input = require("fs").readFileSync("/dev/stdin").toString().trim().split('\n');
let [n, m] = input[0].split(" ").map(Number);
let arr = m > 0 ? input[1].split(" ").map(Number) : [];
//<------------input
let answer = Infinity;

let isOn = new Array(n + 1).fill(true);
for (let d of arr) {
  isOn[d] = false;
}

let dp = new Array(n + 1).fill().map(() => new Array(41).fill(Infinity));
dp[0][0] = 0;

let ticket = [
  [1, 10, 0],
  [3, 25, 1],
  [5, 37, 2],
];

//?일
for (let i = 1; i <= n; i++) {
  //?개
  for (let j = 0; j <= 40; j++) {
    //off 날이면 전날 그대로
    if (!isOn[i]) {
      dp[i][j] = Math.min(dp[i][j], dp[i - 1][j]);
    }
    //on이면 쿠폰을 쓴다
    else {
      if (j + 3 <= 40) {
        dp[i][j] = Math.min(dp[i][j], dp[i - 1][j + 3]);
      }
    }
    //off든 on이든 구매한다
    for (let [type, cost, coupon] of ticket) {
      if (j - coupon < 0) {
        continue;
      }
      for (let k = 1; k <= type; k++) {
        dp[i][j] = Math.min(dp[i][j], dp[i - k < 0 ? 0 : i - k][j - coupon] + cost);
      }
    }
  }
}

answer = Math.min(...dp[n]) * 1000;

console.log(answer);

~~~

# Pass 2 - JavaScript
~~~javascript
let input = require("fs").readFileSync("input.txt").toString().split("\n");
// let input = require("fs").readFileSync("/dev/stdin").toString().trim().split('\n');
let [n, m] = input[0].split(" ").map(Number);
let arr = m > 0 ? input[1].split(" ").map(Number) : [];
//<------------input
let answer = Infinity;

//
let isOn = new Array(110).fill(true);
for (let d of arr) {
  isOn[d] = false;
}

let dp = new Array(110).fill().map(() => new Array(110).fill(Infinity));
dp[0][0] = 0;

for (let i = 0; i <= n; i++) {
  for (let j = 0; j < 40; j++) {
    if (dp[i][j] === Infinity) {
      continue;
    }

    if (!isOn[i + 1]) {
      dp[i + 1][j] = Math.min(dp[i][j], dp[i + 1][j]);
    }

    if (j >= 3) {
      dp[i + 1][j - 3] = Math.min(dp[i][j], dp[i + 1][j - 3]);
    }

    dp[i + 1][j] = Math.min(dp[i][j] + 10000, dp[i + 1][j]);

    for (let k = 1; k <= 3; k++) {
      dp[i + k][j + 1] = Math.min(dp[i][j] + 25000, dp[i + k][j + 1]);
    }

    for (let k = 1; k <= 5; k++) {
      dp[i + k][j + 2] = Math.min(dp[i][j] + 37000, dp[i + k][j + 2]);
    }
  }
}

answer = Math.min(...dp[n]);

console.log(answer);

~~~

dp 방법은 금방 떠올려서 90% 지점까지는 금방 짰는데 안풀렸다  
풀이 찾아보는데 2번 방식의 풀이는 많았는데 1번 내 방식처럼 푼 코드는 없었다  
예제 계속 넣어보다가 원인 3가지를 찾았다  
  
첫번째, 진짜 사소한 문제였는데 j가 40까지 돌아야 하는데 m까지 돌게 하는 바보같은 실수를 했음  
두번째, 5일차 1개라고 한다면 선불 시스템이라 2일차/3일차/4일차 0개인 상태에서 3일권을 결제하면 가능하다  
세번째, 위와 연결되어서 1일차에 쿠폰 1,2개 보유는 불가능하다고 생각했었는데, 3일권 5일권 결제하면 가능함  
  
[n=15 m=0 경우 dp 표 예시]  
|    |   0  |   1  |   2  |   3  |   4  |   5  |   6  |   7  |   8  |   9  |  10  |  11  |  12  |  13  |  14  |  15  |  16  |  17  |  18  |  19  |  20  |  21  |  22  |  23  |  24  |  25  |  26  |  27  |  28  |  29  |  30  |
|----|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| 0  |   0  |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |
| 1  |  10  |  25  |  37  |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |
| 2  |  20  |  25  |  37  |  62  |  74  |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |
| 3  |  30  |  25  |  37  |  62  |  74  |  99  | 111  |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |
| 4  |  40  |  35  |  37  |  62  |  74  |  99  | 111  | 136  | 148  |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |
| 5  |  50  |  45  |  37  |  62  |  74  |  99  | 111  | 136  | 148  | 173  | 185  |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |
| 6  |  60  |  55  |  47  |  62  |  74  |  99  | 111  | 136  | 148  | 173  | 185  | 210  | 222  |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |
| 7  |  62  |  65  |  57  |  62  |  74  |  99  | 111  | 136  | 148  | 173  | 185  | 210  | 222  | 247  | 259  |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |
| 8  |  62  |  74  |  67  |  62  |  74  |  99  | 111  | 136  | 148  | 173  | 185  | 210  | 222  | 247  | 259  | 284  | 296  |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |
| 9  |  62  |  74  |  77  |  72  |  74  |  99  | 111  | 136  | 148  | 173  | 185  | 210  | 222  | 247  | 259  | 284  | 296  | 321  | 333  |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |
| 10 |  72  |  74  |  87  |  82  |  74  |  99  | 111  | 136  | 148  | 173  | 185  | 210  | 222  | 247  | 259  | 284  | 296  | 321  | 333  | 358  | 370  |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |
| 11 |  82  |  74  |  97  |  92  |  84  |  99  | 111  | 136  | 148  | 173  | 185  | 210  | 222  | 247  | 259  | 284  | 296  | 321  | 333  | 358  | 370  | 395  | 407  |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |
| 12 |  92  |  84  |  99  | 102  |  94  |  99  | 111  | 136  | 148  | 173  | 185  | 210  | 222  | 247  | 259  | 284  | 296  | 321  | 333  | 358  | 370  | 395  | 407  | 432  | 444  |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |  ∞   |
| 13 | 102  |  94  |  99  | 111  | 104  |  99  | 111  | 136  | 148  | 173  | 185  | 210  | 222  | 247  | 259  | 284  | 296  | 321  | 333  | 358  | 370  | 395  | 407  | 432  | 444  | 469  | 481  |  ∞   |  ∞   |  ∞   |  ∞   |
| 14 | 111  | 104  |  99  | 111  | 114  | 109  | 111  | 136  | 148  | 173  | 185  | 210  | 222  | 247  | 259  | 284  | 296  | 321  | 333  | 358  | 370  | 395  | 407  | 432  | 444  | 469  | 481  | 506  | 518  |  ∞   |  ∞   |
| 15 | 111  | 114  | 109  | 111  | 124  | 119  | 111  | 136  | 148  | 173  | 185  | 210  | 222  | 247  | 259  | 284  | 296  | 321  | 333  | 358  | 370  | 395  | 407  | 432  | 444  | 469  | 481  | 506  | 518  | 543  | 555  |
